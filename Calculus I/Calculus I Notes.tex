\documentclass[10pt, a4paper]{article}
\usepackage{preamble}

\DeclareMathOperator{\Dom}{Dom}
\DeclareMathOperator{\Ran}{Ran}

\title{Calculus I}
\author{Luke Phillips}
\date{October 2024}

\begin{document}

\maketitle

\newpage

\section{Functions}

\subsection{Functions, domain \& range}

\textbf{Gr10}

\begin{definition}
    A function $f : D \rightarrow C$ is a map ($f$) from a set $D$ called the domain ($\Dom f$) to a set $C$ called the codomain ($\mathrm{Codom}\ f$).
    
    For any $x \in D$, there is a unique $f(x) \in C$ called the image of $x$ under $f$.
\end{definition}

Sometimes  write $f : D \rightarrow C$ $x \mapsto f(x)$.

\begin{definition}
    The range of a function $f$ is the set of all images of $f$. This is a subset of the codomain.
    
    We can write $\Ran f = \{f(x)\,|\,x \in \Dom f\} \subseteq \mathrm{Codom}\ f$
\end{definition}

Real-valued functions\footnote{Always assume codomain is $\R$.} (i.e. the codomain is $\R$, or a subset) of a single real variable (i.e. the domain is $\R$, or a subset)

\begin{example}
    $f : \R \rightarrow \R$ given by $f(x) = x ^ 2\ \forall x \in \R$

    So $\Dom f = \R$ and $\mathrm{Codom}\ f = \R$ \& $\Ran f = [0, \infty)$.
\end{example}

If domain of $f$ isn't explicitly given, we take it to be the maximal subset of $\R$ for which the function is defined.

\subsection{The graph of a function}
\begin{definition}[Graph]
    The graph of $f$ is the set of all points $(x, y) \in \R ^ 2$ such that $x \in \Dom f$ $y = f(x)$.
\end{definition}
To sketch $f$, we often just restrict to an interval of the domain, $[a, b]$.

We often pick a region such that the graph shows significant features like turning points \& intercepts.

When necessary we use a closed shaded circle to indicate an included point, and an open unshaded circle to denote an excluded point.

\textbf{The vertical line test}

If any vertical line intersects the curve more than once then the curve is not the graph of a function.

\subsection{Even and odd functions}
\begin{definition}
    A function is even if $f(x) = f(-x)$ $\forall x \in \Dom f$
    
    A function is odd if $f(x) = -f(-x)$ $\forall x \in \Dom f$
\end{definition}
\begin{example}
    $f(x) = x ^ 2$ is even

    $f(x) = x ^ 3$ is odd
\end{example}

All functions can be written as the sum of an odd part and an even part.
\[
f(x) = f_{even}(x) + f_{odd}(x)
\]
where $f_{even}(x) = \frac{1}{2}\left(f(x) + f(-x)\right)$,
$f_{odd}(x) = \frac{1}{2}\left(f(x) - f(-x)\right)$

\begin{example}
    $f(x) = e ^ x$ with
    
    $f_{even}(x) = \frac{1}{2}(e ^ x + e ^ {-x}) =: \cosh(x)$
    
    $f_{odd}(x) = \frac{1}{2}(e ^ x - e ^ {-x}) =: \sinh(x)$
\end{example}

\begin{example}
    $f(x) = (\cos x + x)\sin x$ with

    $f_{even}(x) = x\sin x$
    
    $f_{odd}(x) = \cos x \sin x$
\end{example}

Product of two odd functions is an even function, product of an odd function and an even function is an odd function.

\subsection{Piecewise functions}
Some functions may be defined piecewise, i.e. with different expressions for different intervals in the domain.

\begin{example}
    \begin{align*}
        f(x) &= |x| \\
        &= \begin{cases}
            \phantom{-}x\quad \text{if} &x \geq 0 \\
            -x\quad \text{if} &x < 0
        \end{cases}
    \end{align*}
\end{example}

A step function is a piecewise function which is constant on each piece.
\begin{example}
    Heaviside step function
    \[
    H(x) = \begin{cases}
        0 & x < 0 \\
        1 & x > 0
    \end{cases}
    \]
    Here $\Dom H = \R \setminus \{0\}$ though it is sometimes useful to extend the domain to $\R$ by defining $H(0): (0, 1, \frac{1}{2})$
\end{example}

\subsection{Operations with functions}
Given two functions $f, g\  \&\  c \in \R$, we can define the following functions:
\begin{table}[h!]
    \centering
    \begin{tabular}{|c|c|c|}
        \hline
        Name & Definition & Domain \\
        \hline
        Sum $(f + g)$ & $(f + g)(x) = f(x) + g(x)$ & $\Dom (f + g) = \Dom f \cap \Dom g$ \\
        Difference $(f - g)$ & $(f - g)(x) = f(x) - g(x)$ & $\Dom (f - g) = \Dom f \cap \Dom g$ \\
        Product $(fg)$ & $(fg)(x) = f(x)g(x)$ & $\Dom (fg) = \Dom f \cap \Dom g$ \\
        Ratio $\left(\frac{f}{g}\right)$ & $\left(\frac{f}{g}\right)(x) = \frac{f(x)}{g(x)}$ & $\Dom \left(\frac{f}{g}\right) = (\Dom f \cap \Dom g) \setminus \{x\,|\,g(x) = 0\}$ \\
        Composition $(f\circ g)$ & $(f \circ g)(x) = f(g(x))$ & $\Dom (f \circ g) = \{x \in \Dom g\,|\, g(x) \in \Dom f\}$ \\
        Scalar Multiplication $(cf)$ & $(cf)(x) = cf(x)$ & $\Dom (cf) = \Dom f$ \\
        \hline
    \end{tabular}
\end{table}

Unlike multiplication, composing functions in opposite order changes the function (generally).

Using the above we can also form more general linear combinations, such as $(af + bg)(x)$ with $(af + bg)(x) = af(x) + bg(x)$ \& $\Dom (af + bg) = \Dom f \cap \Dom g$.

\subsection{Inverse Functions}
\begin{definition}[Surjective function]
    A function $f : D \rightarrow C$ is surjective if $\Ran f = \mathrm{Codom}\, f = C$, i.e. if $\forall\, y \in C\, \exists\, x \in D$ such that $f(x) = y$
\end{definition}
\begin{example}
    $f : \R \rightarrow \R$, $x \mapsto 2x + 1$ is surjective.

    $f : \R \rightarrow \R$, $x \mapsto x ^ 2$ is not surjective since for example $(-2)$ is not the image of any $x \in \R$ (in fact true $\forall\,u < 0,\, u \in \R$).
\end{example}

\begin{definition}[Injective function]
    $f : D \rightarrow C$ is injective if $\forall\, x_1, x_2 \in \R$ with $x_1 \neq x_2,\, f(x_1) \neq f(x_2)$.
\end{definition}

\begin{example}
    $f(x) = 2x + 1$ is injective since $f(x_1) = f(x_2)$ implies that $x_1 = x_2$.

    $f(x) = x ^ 2$ is not injective since $f(2) = f(-2)$ (in fact $f(x) = f(-x)$ but $x \neq -x\, \forall\, x\neq 0$).
\end{example}

\textbf{Horizontal line test}

If no horizontal line intersects the graph of $f$ more than once then $f$ is injective, otherwise it is not.

\begin{definition}[Bijective function]
    A function $f : D \rightarrow C$ is bijective if it is both injective and surjective.
\end{definition}

\begin{example}
    We have showed that $f(x) = 2x + 1$ is both injective and surjective, so it is bijective.
\end{example}

A bijective function $f : D \rightarrow C$ has a unique inverse $f ^ {-1}$ such 
\[
(f \circ f ^ {-1})(x) = x = (f ^ {-1} \circ f)(x).
\]
We can see that $\Ran f ^ {-1} = \Dom f$, $\Dom f ^ {-1} = \Ran f$. Equivalently, $y = f ^ {-1} (x) \iff f(y) = x$.

\begin{example}
    Since $f : \R \rightarrow \R$, $x \mapsto 2x + 1$ is bijective, we can find its inverse.

    Let $y = f^{-1}(x)$ then $f(y) = x = 2y + 1$ so $y = \frac{x - 1}{2}$.
\end{example}

\begin{example}
    $f : \R \rightarrow \R$, $x \mapsto x ^ 2$ is neither injective nor surjective, but if we reduce the domain to $[0, \infty)$ then it is injective with range $[0, \infty)$. So $g : [0, \infty) \rightarrow [0, \infty)$ $x \mapsto x ^ 2$ is bijective, and so we can find an inverse.

    Let $y = f^{-1}(x)$, then $f(y) = x = y ^ 2$ so $y = f^{-1}(x) = \sqrt{x}$.
\end{example}

\newpage

\section{Limits and continuity}

Rough idea: A function $f(x)$ has a limit $L$ at $x = a$ if $f(x)$ is close to $L$ whenever $x$ is close to $a$.

More precise idea: If we have an acceptable 'error' ($\epsilon,\ \epsilon > 0$) between $f$ and $L$, then I would need
\[
|f(x) - L| < \epsilon\quad\forall x \in \text{some interval around } a.
\]
If for any $\epsilon > 0$ can find some distance ($\delta,\ \delta > 0$) such that
\[
|f(x) - L| < \epsilon\quad\forall\quad 0 < |x - a| < \delta
\]
then we say that $f(x)$ has a limit $L$ as $x$ tends to $a$.

\begin{definition}
    $f(x)$ has a limit $L$ as $x$ tends to $a$ if
    
    $\forall \epsilon > 0,\,\exists \delta > 0$ such that
    \[
    |f(x) - L| < \epsilon
    \]
    $\forall x$ such that
    \[
    0 < |x - a| < \delta
    \]
\end{definition}
We write $\displaystyle\lim_{x \rightarrow a}f(x) = L$ or $f(x) \rightarrow L \text{ as } x \rightarrow a$.

If there is no such $L$ then the limit doesn't exist.

Note: we do not require $f(a) = L$ or for $f(a)$ to even exist, as we only consider the interval $0 < |x - a| < \delta$.

\subsection{Continuity}

\begin{definition}
    A function is continuous at the point $a$ if
    \begin{itemize}
        \item $f(a)$ exists,
        \item $\lim_{x \rightarrow a}f(x)$ exists,
        \item $\lim_{x \rightarrow a}f(x) = f(a)$.
    \end{itemize}
\end{definition}

\begin{definition}
    $f(x)$ is continuous on a subset $S$ of its domain if it is continuous at all points in $S$.
\end{definition}

\begin{definition}
    $f(x)$ is continuous if it is continuous at every point in its domain.
\end{definition}

\begin{example}
    Let $f(x) = \begin{cases}
        x ^ 2 &\text{if}\  -1\leq x < 0 \\
        1 &\text{if}\  x = 0 \\
        x ^ 2 &\text{if}\  0 < x \leq 1 
    \end{cases}$
    Then $f(x)$ is continuous on $[-1,\, 1] \setminus \{0\}$, but not continuous at $x = 0$ as $\displaystyle\lim_{x \rightarrow 0}f(x) = 0 \neq f(0)$.
\end{example}

\begin{example}
    Let $f(x) = \begin{cases}
        1 &\text{if}\  x \leq 0 \\
        x ^ 2 &\text{if}\  x > 0
    \end{cases}$
    is not continuous at $x = 0$ as $\displaystyle\lim_{x \rightarrow 0}f(x)$ does not exist.
\end{example}

\subsection{Classification of discontinuities}
\begin{definition}
    $f(x)$ has a right-sided limit $\displaystyle L ^ + = \lim_{x \rightarrow a+}f(x)$ as $x$ tends to $a$ from above (or the right) if
    $\forall\epsilon >0,\ \exists\delta > 0$ such that
    \[
    |f(x) - L^+| < \epsilon
    \]
    $\forall x$ such that $0 < x - a < \delta$.
\end{definition}

\begin{definition}
    $f(x)$ has a left-sided limit $\displaystyle L ^ - = \lim_{x \rightarrow a-}f(x)$ as $x$ tends to $a$ from below (or the left) if
    $\forall\epsilon >0,\ \exists\delta > 0$ such that
    \[
    |f(x) - L^-| < \epsilon
    \]
    $\forall x$ such that $0 < a - x < \delta$.
\end{definition}

$\displaystyle L = \lim_{x \rightarrow a}f(x)$ exists if and only if $L ^ +,\ L ^ -$ both exist and $L ^ + = L ^ -$. Then $L = L ^ + = L ^ -$.

Using the definitions of right and left sided limits, there are three types of discontinuity.
\begin{enumerate}[label = \roman*)]
    \item Removable discontinuity. $L$ exists but $f(a) \neq L$, we can always 'remove' the discontinuity to make a continuous function
    \[
    g(x) = \begin{cases}
        f(x) &\text{if}\ x \neq a \\
        L &\text{if}\ x = a
    \end{cases}
    \]

    \begin{example}
        \[
        f(x) = \begin{cases}
            x ^ 2 &\text{if}\ x \neq 0 \\
            1 &\text{if}\ x = 0
        \end{cases}
        \]
        has a removable discontinuity at $x = 0$ removing this gives the continuous function $g(x) = x ^ 2$
    \end{example}
    
    \item Jump discontinuity. $L ^ +$ and $L ^ -$ both exist, but $L ^ + \neq L ^ -$.
    \begin{example}
        \[
        f(x) = \begin{cases}
            1 &\text{if}\ x \leq 0 \\
            x ^ 2 &\text{if}\ x > 0
        \end{cases}
        \]
        Here $L ^ + = 0,\ L ^ - = 1$, sp $L ^ + \neq L ^ -$ and no limit exists
    \end{example}

    \item Infinite (Essential) discontinuity. At least one of $L ^ +$ and $L ^ -$ does not exist.
    \begin{example}
        $f(x) = \frac{1}{x}$ has an infinite discontinuity at $x = 0$. Here neither $L ^ +$ nor $L ^ -$ exists.
    \end{example}
    \begin{example}
        $f(x) = \sin\left(\frac{1}{x}\right)$ has an infinite discontinuity at $x = 0$. Neither $L ^ +$ nor $L ^ -$ exists.
    \end{example}
\end{enumerate}

\subsection{Facts about limits and continuity}
Facts about limits
\begin{itemize}
    \item The limit is unique.
    \item If $f(x) = g(x)$ (except possibly at $x = a$) in some open interval containing $a$, then
    \[
    \lim_{x \rightarrow a}f(x) = \lim_{x \rightarrow a}g(x).
    \]
    \item If $f(x) \geq K$ on either some interval $(a, b)$ or $(c, a)$ and if $\lim_{x \rightarrow a}f(x) = L$ then $L \geq K$ (Similarly replacing $\geq$ with $\leq$).
    \item Calculus of Limits Theorem (COLT)
    
    If $\lim_{x \rightarrow a}f(x) = L$ and $\lim_{x \rightarrow a}g(x) = M$, then
    \begin{enumerate}[label = \roman*)]
        \item \[
        \lim_{x \rightarrow a}(f(x) + g(x)) = L + M
        \]
        \item \[
        \lim_{x \rightarrow a}(f(x) \cdot g(x)) = L \cdot M
        \]
        \item If $M \neq 0$ then \[
            \lim_{x \rightarrow a}\left(\frac{f(x)}{g(x)}\right) = \frac{L}{M}.
        \]
    \end{enumerate}
\end{itemize}

The following are facts about continuity
\begin{itemize}
    \item If $f$ and $g$ are continuous, then so are $(f + g),\ (fg), \left(\frac{f}{g}\right)$ and $|f|$.
    \item All polynomial, rational, trigonometric and hyperbolic functions are continuous.
    \item If $\lim_{x \rightarrow a}g(x) = L$ and $f(x)$ is continuous at $x = L$, then
    \[
    \lim_{x \rightarrow a}(f \circ g)(x) = f(L).
    \]
\end{itemize}

\begin{example}
    The following are continuous
    \[
    f(x) = 2x ^ 3 + x + 7,\quad g(x) = \frac{3x}{x - 1},\quad h(x) = \left|\frac{1 + x ^ 2}{\sin x}\right|
    \]
\end{example}

\begin{example}
    \[
    \lim_{x \rightarrow 0}\,\frac{1}{x}\ \text{does not exist.}
    \]
\end{example}

\begin{example}
    \begin{align*}
    \lim_{x \rightarrow \frac{\pi}{2}}\,x ^ 2 \sin x &=\footnote{COLT} \left(\lim_{x \rightarrow \frac{\pi}{2}} x^ 2 \right)\left(\lim_{x \rightarrow \frac{\pi}{2}} \sin x\right) \\
    &= \left(\frac{\pi}{2}\right) ^ 2 \cdot 1 = \frac{\pi ^ 2}{4}.
    \end{align*}
\end{example}

\begin{example}
    \begin{align*}
    \lim_{x \rightarrow 3}\,\frac{2x ^ 2 - 18}{x - 3} &= \lim_{x \rightarrow 3}\, \frac{2(x + 3)(x - 3)}{x - 3} \\
    &= \lim_{x \rightarrow 3}\,2(x + 3)\quad\text{Since the value at $x = 3$ is irrelevant for the limit.} \\
    &= 2(6) = 12.
    \end{align*}
\end{example}

\subsection{The pinching (squeezing) theorem}
\begin{theorem}[Squeezing theorem]\label{calc_thm_squeze}
    If $g(x) \leq f(x) \leq h(x)$ for all $x \neq a$ in some open interval containing $a$, and $\displaystyle \lim_{x \rightarrow a}g(x) = \lim_{x \rightarrow a} h(x) = L$ then
    \[
    \lim_{x \rightarrow a}f(x) = L.
    \]
\end{theorem}

\begin{example}
    Calculate
    \[
    \lim_{x \rightarrow 0} x ^ 2 \sin \left(\frac{1}{x}\right).
    \]
    As $-1 \leq \sin \left(\frac{1}{x}\right) \leq 1$ then $-x ^ 2 \leq x ^ 2 \sin \left(\frac{1}{x}\right) \leq x ^ 2$.

    We have $\lim_{x \rightarrow 0}(-x ^ 2) = 0$, $\lim_{x \rightarrow 0}(x ^ 2) = 0$ so by \autoref{calc_thm_squeze}
    \[
    \lim_{x \rightarrow 0} x ^ 2 \sin \left(\frac{1}{x}\right) = 0.
    \]
\end{example}

\subsection{Two trigonometric limits}
Two important limits are the following
\[
\lim_{x \rightarrow 0}\frac{\sin x}{x} = 1
\]
\[
\lim_{x \rightarrow 0}\frac{1 - \cos x}{x} = 0
\]

We can prove the first limit using \autoref{calc_thm_squeze}.

\textbf{Gr11}

Let $T_1$ be the area of the triangle OAB, $T_2$ be the area of the triangle OAC, $S$ be the area of sector OAB. Clearly $T_1 < S < T_2$. The length of BD is $\sin x$, the length of AC is $\tan x$
\[
T_1 = \frac{1}{2}\sin x\quad T_2 = \frac{1}{2}\tan x\quad S = \left(\frac{x}{2\pi}\right) \cdot \pi = \frac{x}{2}.
\]
Therefore $\sin x < x < \tan x$. Now for $x \in \left(0, \frac{\pi}{2}\right)$
\[
1 = \frac{\sin x}{\sin x} < \frac{x}{\sin x} < \frac{\tan x}{\sin x} = \frac{1}{\cos x}
\]
and since all these functions are even, the same holds on $\left(-\frac{\pi}{2}, 0\right)$.

We also have
\[
\lim_{x \rightarrow 0} 1 = 1\quad\lim_{x \rightarrow 0}\frac{1}{\cos x} = 1,
\]
so by \autoref{calc_thm_squeze}
\[
\lim_{x \rightarrow 0}\frac{x}{\sin x} = 1\text{ and therefore } \lim_{x \rightarrow 0}\frac{\sin x}{x} = 1
\]

We can use this to prove the second limit
\begin{align*}
\lim_{x \rightarrow 0}\frac{1 - \cos x}{x} &= \lim_{x \rightarrow 0}\frac{(1 - \cos x)(1 + \cos x)}{x(1 + \cos x)} \\ 
&= \lim_{x \rightarrow 0}\frac{\sin ^ 2 x}{x(1 + \cos x)} \\
&= \lim_{x \rightarrow 0}\left(\frac{\sin x}{x}\right)\left(\frac{\sin x}{1 + \cos x}\right) \\
&= 1 \cdot 0 = 0.
\end{align*}

\end{document}