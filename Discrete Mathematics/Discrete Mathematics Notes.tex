\documentclass[10pt, a4paper]{article}
\usepackage{preamble}

\title{Discrete Mathematics}
\author{Luke Phillips}
\date{October 2024}

\begin{document}

\maketitle

\newpage

\section{Introduction}

\textbf{Starter problems}

\textbf{A1}: A set menu has a choice of 3 possible desserts. A party of 5 diners all order
a dessert each. In how many ways can the party choose their desserts?

This question can be rephrased to treat the people as distinguishable balls and the desserts as distinguishable boxes to put the people in.

\textbf{A2}: A man has 5 identical Â£1 coins that he intends to put into up to 3 different
charity boxes. In how many ways can he distribute the money among the
charities?

This question can be rephrased to treat the coins as balls which are indistinguishable and the charity boxes as distinguishable boxes.

\textbf{A3}: 5 people on a beach divide themselves into up to 3 teams in order to enter a
sand-castle building competition. How many ways are there of constructing
the teams?

This can be rephrased to have balls as people and boxes as teams and having the teams as the different boxes and the people as balls to put in the boxes.

\textbf{A4}: A woman wants to buy postage stamps to the value of 5 pence. Stamps are
available in all denominations of whole pence. How many different ways are
there of making the purchase with at most 3 stamps?

The number of balls in a box can represent the value of a single stamp, i.e. each box is a stamp and each ball is a 1 pence coin.

\subsection{Set notation}
\begin{itemize}
    \item $x \in S$, $x$ is in $x$.
    \item $x \notin S$, $x$ is not in $x$.
    \item $R \subseteq S$, $R$ is a subset of $S$\footnote{$x \in R \implies x \in S$}.
    \item $S \setminus R$, $S$ minus $R$, $S \setminus R = \{x: x \in S \text{ and } x \notin R\}$.
    \item $R \cup S =  \{x : x \in R \text{ or } x \in S\}$.
    \item $R \cap S =  \{x : x \in R \text{ and } x \in S\}$.
\end{itemize}

If $S$ is a finite set its size or cardinality, denoted as $|S|$, is the number of elements in $S$.

\textbf{Cartesian product}

If $X$ and $Y$ are two sets then, 
\[
X \times Y = \{(x, y) : x \in X \text{ and } y \in Y\},
\]
the set of ordered pairs.

\begin{example}
    $X = \{1, 2, 3\}\quad Y = \{a, b\}$
    \[
    X \times Y = \{(1, a), (1, b), (2, a), (2, b), (3, a), (3, b)\}.
    \]
    \[
    Y \times X = \{(a, 1), (a, 2), (a, 3), (b, 1), (b, 2), (b, 3)\}.
    \]
\end{example}
We can write $X \times X = X ^ 2$.
\[
X ^ n = X \times X \times \dotsi X = \{(x_1, x_2, \dots, x_n) : x_i \in X \text{ for all } i\}
\]

\begin{proposition}
    Let $X$ and $Y$ be finite sets.
    \begin{enumerate}[label = (\alph*)]
        \item $|X \times Y| = |X|\cdot|Y|$
        \item $|X ^ n| = |X| ^ n$
    \end{enumerate}
\end{proposition}

\begin{example}
    Let $A = \{1, 2, 3, 4, 5, 6\}$. How many subsets does $A$ have?
    \[
    2 ^ 6
    \]
    Let $I = \{0, 1\}$ consider $I ^ 6 = \{(a_1, a_2, \dots, a_6) : a_i \in I\}$

    $|I ^ 6| = 2 ^ 6$
    
    Consider the set of all subsets of set $\{1, 2, \dots, 6\}$ we construct a bijection between $I ^ 6$ and the set of subsets. $A \mapsto (1, 1, 1, 1, 1, 1)$, $\{1, 4, 5\} \mapsto (1, 0, 0, 1, 1, 0)$
\end{example}

\section{Arrangements and permutations}
An arrangement (or list) is a sequence (finite) of items in which order matters.

The length of the arrangement is the number of items in the sequence.

Standard problem \#1

How many lists of length $k$ can be made from elements of a set of size $|S|$? There are $n ^ k$

Standard problem \#2

How many lists of length $k$ with no repetition can be made from elements of set $S$ with $|S| = n$?
\[
n(n - 1)(n - 2) \dotsi (n - k + 1) = \frac{n!}{(n - k)!}\quad\text{for } k \leq n
\]
we use the multiplication principle.

$1 \leq i \leq k$, there are $n_i$ choices for the $i$th item in the list, regardless of previous choices the number of possible lists is $n_1  \cdot n_2 \dotsi n_k$.

\begin{definition}
    A permutation on a set $S$ is a list of elements of $S$ using each element exactly once.
\end{definition}

\begin{proposition}
    If $|S| = n$ there are $n!$ permutations on $S$.

    \begin{proof}
        Standard proof \#2 (no repeats) with $n = k$.
    \end{proof}
\end{proposition}

An $r$-permutation on $S$ is a list of $r$ distinct elements from $S$ permutation if $r = |S|$.

We write $P(n, r)$ for the number of $r$-permutations on a set of size $n$.
\[
P(n, r) = n(n - 1) \dotsi (n - r + 1) = \frac{n!}{(n - r)!},\text{ for } 0 \leq r \leq n.
\]

\textbf{Addition principle}. If $A$ and $B$ are finite and disjoint sets. Then
\[
|A \cup B| = |A| + |B|
\]
if $A_1, A_2, \dotsc, A_n$ are pairwise disjoint, $A_i \cap A_j = \emptyset$ for all $i \neq j$, then
\[
|A_1 \cup A_2 \cup \dotsi \cup A_n| = |A_1| + |A_2| + \dotsi + |A_n|.
\]
\[
\left|\bigcup_{i = 1}^{n}A_i\right| = \sum_{i = 1}^{n}|A_i|.
\]

If $A \cup B = \emptyset$
\[
|A \cup B| = |A| + |B| - |A \cap B|
\]

\subsection{Counting examples}

\begin{enumerate}[label = B\arabic*]
    \item How many $4$-letter words use the letter E at least once?
    
    The number of $4$-letter words is $26 ^ 4$ those that do not use $E$ is $25 ^ 4$ hence the total number is $26 ^ 4 - 25 ^ 4$.
    \item How many $4$-letter words use the letter E exactly once?

    The number of $4$-letter words which use exactly E is equivalent to the set of all $4$ letter words, $4$ possible locations with $25 ^ 3$ other letter choices hence, the total is $4 \times 25 ^ 3$.
    
    \item How many $4$-letter words contain no three identical letters in consecutive positions?

    There are $26 ^ 4$ possible words, there are $26 + (26 \times 25) + (26 \times 25)$ words with the same letter three times.

    Hence the total is $26 ^ 4 - 51 \times 26$.
    
    \item How many $4$-letter words use both E and T both at least once?

    There are $24 ^ 4$ words with neither an E nor a T. There are $26 ^ 4 - 24 ^ 4$ words with both E and T, and $|E| = |T| = 26 ^ 4 - 25 ^ 4$ So
    \[
    |E \cap T| = |E| + |T| - |E \cup T| = 2(26 ^ 4 - 25 ^ 4) - (26 ^ 4 - 24 ^ 4) = 26 ^ 4 - 2 \cdot 25 ^ 4 + 24 ^ 4.
    \]
    
    \item How many $3$-letter words have their letters in strict alphabetical order ("strict" no letters can be the same)?

    There are $26 \times 25 \times 24$ words with $3$ distinct letters. There are $3!$ permutations of these letters but they must be in strict alphabetical order which is only one of the $6$ permutations therefore the total is $\frac{1}{6}(26)_3 = \frac{1}{6}(26 \times 25 \times 24)$.
\end{enumerate}

\newpage

\section{Combinations}
A combination from a set of objects is an unordered selection of elements from that set (repeats may be allowed)

Formally a combination on set $S$ is identified by the multiplicities $m_i,\, i \in S$, where $m_i = \text{ number of times element $i$ appeared}$.

The size of a combination is the number of selection i.e. the sum of all the multiplicities $\sum_{i \in S}m_i$. We sometimes call a combination of size $k$ a $k$-combination.

How many combinations without repetitions do we have from a set of size $n$?

First consider the arrangements (ordered, no repetitions) there are $P(n, k) = \frac{n!}{(n - k)!}$ of these, sort into groups of arrangements using the same set of letters, each group has $k!$ lists, so the number of groups is $\frac{P(n, k)}{k!} = \frac{n!}{k!(n - k)!}$.

\begin{example}
    How many ways are there of selecting $10$ different letters of the alphabet? Or $16$
    \begin{proof}[Solution]\renewcommand{\qedsymbol}{}
        A $10$-combination without repetition, from size $26$ is
        \[
        \binom{26}{10} = \frac{26!}{10!(26 - 10)!} = \binom{26}{16}.
        \]
    \end{proof}
\end{example}

\begin{proposition}
    \[
    \binom{n}{k} = \binom{n}{n - k}.
    \]
    \begin{proof}
        Each choice of $k$ objects from $n$ to take corresponds exactly to a choice of $n - k$ to leave.
    \end{proof}
\end{proposition}

\begin{example}
    Consider combination of $6$ distinct elements of $\{0, 1, \dotsc, 9\}$. (a) How many contain $0$? (b) And how many do not?
    \begin{proof}[Solution]\renewcommand{\qedsymbol}{}
        (a) We remove $0$ from the elements so choose from $\{1, 2, \dotsc, 9\}$ and much choose $5$ numbers therefore is $\binom{9}{5}$.

        (b) we must choose all $6$ from $\{1, 2, \dotsc, 9\}$ so the answer is $\binom{9}{6}$.
    \end{proof}
\end{example}

\begin{proposition}[Pascal's formula]
    \[
    \binom{n}{r} = \binom{n - 1}{r - 1} + \binom{n - 1}{r}\quad(1 \leq r \leq n - 1)
    \]
    \begin{proof}
        
    \end{proof}
\end{proposition}

\begin{theorem}[The binomial theorem]
    $n$ is a positive integer, $a$ and $b$ are real numbers, then
    \[
    (a + b) ^ n = \sum_{k = 0}^{n}\binom{n}{k}a ^ {k} b ^ {n - k}
    \]
    \begin{proof}
        \[
        (a + b)(a + b) \dotsi (a + b)
        \]
        when multiplied out, gives various terms of the form $a ^ k b ^ {n - k}$. For fixed $k$, the number of terms $a ^ k b ^ {n - k}$ is $\binom{n}{k}$ since one chooses the $k$ brackets in the product.
    \end{proof}
\end{theorem}

\begin{example}
    Prove the following identities are valid for integer $n \geq 0$.
    \begin{enumerate}[label = C\arabic*]
        \item
        \[
        \sum_{k = 0}^n\binom{n}{k} = 2 ^ n
        \]
        \item
        \[
        \sum_{k = 0}^n\binom{n}{k}(-1) ^ k = 0
        \]
        \item 
        \[
        \sum_{k = 0}^n\binom{n}{k}2 ^ k = 3 ^ n
        \]
        \item
        \[
        \sum_{k = 0}^n\binom{n}{k}k = n2 ^ {n - 1}
        \]
    \end{enumerate}

    \begin{proof}[Solution]\renewcommand{\qedsymbol}{}
        All of these examples are based on the binomial theorem in the form
        \[
        (1 + x) ^ n = \sum_{k = 0}^{n}\binom{n}{k}x ^ k
        \]
        \begin{enumerate}[label = C\arabic*]
        \item Now put $x = 1$
        \[
        x = 1 \implies (1 + 1) ^ n = \sum_{k = 0}^{n}\binom{n}{k}1 ^ k
        \]
        \item Now put $x = -1$
        \begin{align*}
        \underbrace{(1 - 1) ^ n}_{0 ^ n = 0} &= \sum_{k = 0}^{n}\binom{n}{k}(-1) ^ n \\
        &= \binom{n}{0} - \binom{n}{1} + \binom{n}{2} - \binom{n}{3} + \dotsi \pm \binom{n}{k}
        \end{align*}
        \item Put $x = 2$
        \[
        3 ^ n = \sum_{k = 0}^{n}\binom{n}{k}2 ^ k
        \]
        \item The trick is to differentiate both sides of 
        \[
        n(1 + x) ^ {n - 1} = \sum_{k = 0}^{n}\binom{n}{k}kx ^ {k - 1},\quad(n \geq 1),
        \]
        and now set $x = 1$. Check $n = 0$ also works.
        \end{enumerate}
    \end{proof}
\end{example}

\begin{example}
    A poker hand is a $5$ combination from the deck of $52$ cards $13 \times 4$, $13$ denominations $4$ suits. There are $\binom{52}{5}$ possible hands.
    \begin{enumerate}[label = (\alph*)]
        \item Four of a kind: $4$ cards of the same denomination the $5$th card is any.

        First choose the denomination: $13$ choices, the remaining $48$ cards, the answer is $13 \times 48$.

        \item Full house: A triple ($3$ cards of the same denomination) and a pair ($2$ cards of the same denomination).

        First choose the denomination of triple, $13$ choices, then choose the suits for the triple. $\binom{4}{3} = 4$ ways.
        Now choose the denomination of the pair, $12$ choices, choose suit $\binom{4}{2} = 6$. The answer is $13 \times \binom{4}{3} \times 12 \times \binom{4}{2} = 3744$.
    \end{enumerate}
\end{example}

\newpage

\section{Arrangements and combinations with repetitions}

\subsection{Arrangements with repetition}

(Items can be replaces)
\begin{example}
    How many arrangements of the letters MISSISSIPPI are there?

    \begin{proof}[Solution 1]\renewcommand{\qedsymbol}{}
        We have $4$ I's, $4$ S's, $2$ P's and $1$ M to arrange in $11$ places.

        First choose $4$ places for the I's (the I's are indistinguishable): $\binom{11}{4}$ ways to do this.
        Now choose $4$ of the remaining places for the S's there are $\binom{7}{4}$ ways.
        Now choose $2$ places for the P's, $\binom{3}{2}$ ways to choose the P's.
        Finally, the last place is taken by M.
        So the answer is
        \[
        \binom{11}{4}\binom{7}{4}\binom{3}{2}\binom{1}{1} = \frac{11!}{4!7!}\frac{7!}{4!3!}\frac{3!}{2!1!}\frac{1!}{1!0!} = \frac{11!}{4!4!2!1!}.
        \]
    \end{proof}
    \begin{proof}[Solution 2]\renewcommand{\qedsymbol}{}
        First image all the letters are different, $I_1, I_2, I_3, I_4, S_1, S_2, S_3, S_4,\dotsc$.
        There are $11!$ ways to arrange these.
        This grouping has $4!$ arrangements which are the same.
    \end{proof}
\end{example}

Standard problem \#4: How many arrangements are there of a list of objects in which some objects are repeated?

\begin{theorem}\label{disc_thm_41}
    Given a list of $n$ objects of $r$ different types, in which each object of type $i$ occur $n_i$ times (with $n_1 + \dotsi + n_r = n$), the number of arrangements of the list is
    \[
    P(n; n_1, n_2, \dotsc, n_r) = \frac{n!}{n_1!n_2!\dotsi n_r!}.
    \]
    \begin{proof}
        As in example.
    \end{proof}
\end{theorem}

\begin{example}\phantom{}
    \begin{enumerate}[label = (D\arabic*)]
        \item  How many arrangements of REARRANGE are there?
        \item Of these how many of these have all the $R$s together as a block?
        \item How many have at least two $R$s together?
    \end{enumerate}

    \begin{proof}[Solution]\renewcommand{\qedsymbol}{}\phantom{}
        \begin{enumerate}[label = (D\arabic*)]
            \item
            We have
            AA EE G N RRR
            by \autoref{disc_thm_41} we get $\frac{9!}{3!2!2!1!1!}$
            \item Treat RRR as a single object so
            $n = 2$ we have $2 + 2 + 1 + 1$ elements,
            we get $\frac{7!}{2!2!}$.
            \item
            "At least" find first the "bad" one,
            where we have no Rs together.
            First arrange the other letters AAEEGB,
            so we have $\frac{6!}{2!2!}$ ways.
            One of possibilities: A G E E A N, G A E A E N.
            
            Now we need to put Rs inside,
            so there are $\binom{7}{3}$ ways to put Rs inside.
            So the answer for "bad" cases is $\binom{7}{3}\frac{6!}{2!3!}$,
            so the answer is $\frac{9!}{3!2!2!} = \binom{7}{3}\frac{6!}{2!2!}$
        \end{enumerate}
    \end{proof}
\end{example}

\subsection{Combination with repetition}
Standard Problem \#5: From a set of $n$ objects,
how many $k$-combinations can be chosen if repeats are allowed?

But first we consider a different question

Standard problem \#6: How many $k$-combinations with repetitions from $n$ objects are there in which each object is chosen at least once?

Remark, need $k \geq n$ for a non-zero answer.

\begin{example}
    Count the $5$ combinations with repetitions from set $\{1, 2, 3\}$ in which each number repeats at least once.
    \begin{proof}[Solution]\renewcommand{\qedsymbol}{}
        Standard problem \#6.

        Since order doesn't matter we represent each combination in numerical order.
        E.g. $11123$, $11223$, $11233$, $12223$, $12233$, $12333$.

        Now insert markers where the numbers change.
        \begin{align*}
            111|2|3 \\
            11|22|3 \\
            11|2|33 \\
            1|22|33 \\
            1|2|333.
        \end{align*}
        What we did, we inserted two markers in $4$ possible gaps.
        So the number of combinations is the number of ways to put markers,
        \[
        \binom{4}{2} = 6.
        \]
    \end{proof}
\end{example}

\begin{theorem}\label{disc_thm_kcombwrep}
    The number of $k$-combinations from $n$ objects with repetitions and each object occurring at least once is
    \[
    \binom{k - 1}{n - 1}\text{ for } k \geq n.
    \]
    \begin{proof}
        As in the example.

        There are $k - 1$ positions and $n - 1$ markers.
        There are $\binom{k - 1}{n - 1}$ ways to put markers.
    \end{proof}
\end{theorem}

\begin{example}
    A student buys $10$ bars of chocolate.
    There are $4$ types available,
    M, S, T, Y.
    How many combinations are possible?
    \begin{proof}[Solution]\renewcommand{\qedsymbol}{}
        This is standard problem \#5 we turn it into standard problem \#6.
    \end{proof}
\end{example}

\begin{theorem}\label{disc_thm_diffobjrep}
    The number of $k$-combinations from $n$ different objects with repetitions is
    \[
    \binom{k + n - 1}{n - 1} = \binom{k + n - 1}{k}
    \]
    \begin{proof}
        Consider $k + n - 1$ places and $n - 1$ markers,
        put them in these places not more than one per place.
        $k$ places are not "busy",
        the number of empty places before the first marker will be $x_1$,
        between the first and second is $x_2$ and so on to get
        $x_1, x_2, x_3, \dotsc, x_n$ which gets
        \[
        x_1 + x_2 + x_3 + \dotsi + x_n = k
        \]
        since $x_i \geq 0\, \forall i \in \N$.
        But how many ways are there to put markers?
        There are
        \[
        \binom{n + k - 1}{n - 1}.
        \]
    \end{proof}
\end{theorem}

\begin{example}
    \begin{enumerate}[label = E\arabic*]
        \item 
        How many $6$ letter words have the letters in weak alphabetical order (with multiple of the same letter allowed) (So both ALMOST and ACCESS are allowed.).
        \item
        Wimpy's offers offered W/Burgers (B), W/Cheeseburgers (C), Hawaiian Burgers (H), and Fish Specials (S).
        Seven people each request a single meal.
        \begin{enumerate}[label = (\alph*)]
            \item How many different orders may the kitchen be asked to prepare?
            \item How many omit at least one type of meal?
            \item How many omit exactly one type of meal?
        \end{enumerate}
        \item How many integer solutions $(x_1, x_2, x_3, x_4)$ are there to the equation
        \[
        x_1 + x_2 + x_3 + x_4 = 7
        \]
        where
        \begin{enumerate}[label = (\alph*)]
            \item each $x_i$ is a positive integer?
            \item each $x_i$ is a non-negative integer?
            \item $x_i \geq 0$ for odd $i$ and $x_i \geq 1$ for even $i$?
        \end{enumerate}
    \end{enumerate}

    \begin{proof}[Solution]\renewcommand{\qedsymbol}{}
    \begin{enumerate}[label = E\arabic*]
        \item Each $6$-combination from A-Z (with repetitions) corresponds to a word when arranged in (weak) alphabetical order.
        So this is Standard Problem \#5 with $k = 6$ and $n = 26$,
        so \autoref{disc_thm_diffobjrep} gives the answer $\binom{26 + 6 - 1}{6} = \binom{31}{6}$.
        \item
        \begin{enumerate}[label = (\alph*)]
            \item Again Standard Problem \#5 $k = 7$, $n = 4$
            so we get $\binom{k + n - 1}{n - 1} = \binom{10}{3}$.
            \item Firstly, how many use each meal at least one?
            This is Standard Problem \#6 with $k = 7$, $n = 4$.
            So the answer will be \autoref{disc_thm_kcombwrep} $\binom{k - 1}{n - 1}$ we get
            \[
            \binom{7 - 1}{4 - 1} = \binom{6}{3}.
            \]
            So, the orders that do not use every meal are
            \[
            \binom{10}{3} - \binom{6}{3}
            \]
            \item First choose which meal to omit $4$ choices.
            Then count orders using the remaining $3$ types all at least once.
            This is Standard Problem \#6 with $k = 7$, $n = 3$.
            So the answer is $4 \cdot \binom{6}{2}$
        \end{enumerate}
        \item 
        \begin{enumerate}[label = (\alph*)]
            \item $x_i \geq 1$ corresponds to Standard Problem \#6 with $k = 7$, $n = 4$.
            So we get $\binom{k - 1}{n - 1} = \binom{6}{3}$.
            \item Standard Problem \#5 $\binom{k + n - 1}{n - 1} = \binom{7 + 4 - 1}{4 - 1} = \binom{10}{3}$.
            \item $x_1 \geq 0, x_2 \geq 1, x_3 \geq 0, x_4 \geq 1$. Substitution $y_1 = x_1 + 1$, $y_2 = x_2$, $y_3 = x_3 + 1$, $y_4 = x_4$
            \[
            x_1 + x_2 + x_3 + x_4 + 2 = y_1 + y_2 + y_3 + y_4 = 9,
            \]
            so we get $\binom{8}{3}$ solutions.
        \end{enumerate}
    \end{enumerate}
    \end{proof}
\end{example}


\subsection{Extended binomial coefficients}
$\binom{-1}{3}$ is the coefficient of $x ^ 3$ in the expansion of $(1 + x) ^ {-1} = \frac{1}{1 + x}$.
\[
(1 + x) ^ \alpha = \sum_{k = 0}^{\infty}\binom{\alpha}{k}x ^ k
\]
where $\alpha \in \R$.

Note:
\begin{itemize}
    \item If $\alpha$ is a positive integer and $0 \leq k \leq \alpha$,
    then this is just
    \[
    \binom{\alpha}{k} = \frac{\alpha!}{k!(\alpha - k)!}
    \]
    \item If $\alpha$ is a positive integer,
    and $k > \alpha$.
    Then $\binom{\alpha}{k} = 0$ because the numerator contains a factor $0$.
    \item If $\alpha$ is not a positive integer,
    there are no $0$'s in the numerator in the binomial coefficient, so $\binom{\alpha}{k} \neq 0$ for any $k$, so the power series is infinite.
\end{itemize}

\begin{proposition}[Principle of upper negation]
    If $n$ and $k$ are positive integers,
    then
    \[
    \binom{-n}{k} = (-1) ^ k\binom{k + n - 1}{k} = (-1) ^ k\binom{k + n - 1}{n - 1}.
    \]
    \begin{proof}
        \begin{align*}
            \binom{-n}{k} &= \frac{(-n)(-n-1)(-n-2)\dotsi(-n-k+1)}{k!} \\
            &= (-1) ^ k \frac{n(n + 1)\dotsi(n + k - 1)}{k!} \\
            &= \frac{(-1) ^ k(n + k - 1)!}{k!(n - 1)!} \\
            &= (-1) ^ k\binom{n + k - 1}{k}.
        \end{align*}
    \end{proof}
\end{proposition}

\begin{example}
    $(1 + x) ^ {-n} = \sum_{k = 1}^{\infty}\binom{-n}{k}x ^ k = \sum_{k = 1}^{\infty}(-1) ^ k\binom{k + n - 1}{n - 1}x ^ k$.

    By the principle of upper negation.
    In particular,
    if we take $x = -y$ we have
    \[
    \frac{1}{(1 - y) ^ n} = (1 - y) ^ {-n} = \sum_{k = 0}^{\infty}\binom{k + n - 1}{k}y ^ k.
    \]
\end{example}

\begin{example}
    Expand the following as series:
    \begin{enumerate}[label = (\roman*)]
        \item $(1 - x) ^ {-1}$.
        \item $(1 - x) ^ {-2}$.
        \item $(1 - x) ^ {-3}$.
        \item $(1 - x) ^ {-6}$.
    \end{enumerate}
    \begin{enumerate}[label = (\roman*)]
        \item $\sum_{k = 0}^{\infty}x ^ k = 1 + x + x ^ 2 + \dotsi$.
        \item $\sum_{k = 0}^{\infty}(k + 1)x ^ k = 1 + 2x + 3x ^ 2 + \dotsi$.
    \end{enumerate}
\end{example}

\section{Three Principles}

\subsection{Inclusion exclusion formula}
\begin{align*}
|A_1 \cup A_2 \cup A_3| &= |A_1 \cup (A_2 \cup A_3)| = |A_1| + |A_2 \cup A_3| - |A_1 \cap (A_2 \cup A_3)| \\
&= |A_1| + |A_2| + |A_3| - |A_1 \cap A_3| - |A_1 \cap A_2| - |A_2 \cap A_3| + |A_1 \cap A_2 \cap A_3|
\end{align*}
\[
A \cap (B \cup C) = (A \cap B) \cup (A \cap C)
\]

The case of general $n$ is similar but needs more notation,
consider sets $A_1, A_2, A_3, A_4$
\[
|A_1 \cup A_2 \dotsi \cup A_n|
\]
The formulae involves a $k$-fold intersection.
$(1 \leq k \leq n)$ $A_{i_1} \cap A_{i_2} \cap A_{i_3} \cap \dotsi \cap A_{i_k}$ where $1 \leq i_1 < i_2 < \dotsi < i_k \leq n$

Let $S_k = \sum_{i_1 < i_2 < i_k}|A_{i_1} \cap \dotsi \cap A_{i_k}|$.
The sum of all positive $k$-fold intersections
(There are exactly $\binom{n}{k}$ terms)

\begin{theorem}[Inclusion-exclusion formula]
    For a positive integer $n$ and finite sets
    $A_1, \dotsc, A_n$,
    \[
    |A_1 \cup A_2 \cup \dotsi \cup A_n| = \sum_{k = 1}^{n}(-1) ^ {k + 1}S_k,
    \]
    where
    \[
    S_k = \sum_{i_1 < i_2 < \dotsi < i_k}|A_{i_1} \cap A_{i_2} \cap \dotsi A_{i_k}|.
    \]
    \begin{proof}
        Start with induction base case $n = 2$.
        \large\textbf{Exercise!}
    \end{proof}
    
\end{theorem}

\begin{definition}
    A permutation is called a dearrangement if no element ends up in its correct position.
\end{definition}




\end{document}