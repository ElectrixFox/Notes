\ProvidesPackage{preamble}

% General setup
\usepackage{amsmath, amsfonts, amssymb, amsthm}
\usepackage[pdfencoding=unicode, psdextra]{hyperref}
\usepackage{mathtools}
\usepackage{enumitem}
\usepackage{thmtools}
\usepackage{microtype}
\usepackage{pgfplots}
\usepackage{parskip}
\usepackage{tikz}
\usepackage{float}
\pgfplotsset{compat=1.18}

\DeclareMathOperator{\sech}{sech}
\DeclareMathOperator{\csch}{csch}
\newcommand{\N}{\mathbb{N}}
\newcommand{\Z}{\mathbb{Z}}
\newcommand{\Q}{\mathbb{Q}}
\newcommand{\R}{\mathbb{R}}
\newcommand{\C}{\mathbb{C}}

% Analysis I - setup
\newcommand{\infsum}[1][k = 1]{\sum_{#1}^{\infty}}
\newcommand{\seq}[1][x]{(#1_n)_{n \in \N}}
\newcommand{\dseq}[2][n]{(#2_#1)_{#1 \in \N}}
\newcommand{\lhopital}[0]{L' H\^opital}
\newcommand{\infsumo}{\infsum[k = 0]}

% Calculus I - setup
\DeclareMathOperator{\Dom}{Dom}
\DeclareMathOperator{\Ran}{Ran}

\newcommand{\liminfty}[1][n]{\lim_{#1 \rightarrow \infty}}

% Linear Algebra I - setup
\setcounter{MaxMatrixCols}{20}
\newcommand{\mbf}[1]{\mathbf{#1}}
\DeclareMathOperator{\Adj}{Adj}
\DeclareMathOperator{\im}{im}

\newenvironment{amatrix}[1]
    {
    \left(\begin{array}{@{}*{#1}{c}|c@{}}
        }{
    \end{array}\right)
    }
    
% Probability I - setup

% operators
\DeclareMathOperator{\Bin}{Bin}
\DeclareMathOperator{\Geo}{Geo}
\DeclareMathOperator{\Exp}{Exp}
\DeclareMathOperator{\Po}{Po}

% shortcuts
\renewcommand{\P}{\mathbb{P}}
\newcommand{\E}{\mathbb{E}}
\newcommand{\Var}{\mathbb{V}\mathrm{ar}}
\newcommand{\Cov}{\mathbb{C}\mathrm{ov}}
\newcommand{\ind}[1][A]{\mathbbm{1}_{#1}}
\newcommand{\mmid}{\,\middle|\,}

\declaretheoremstyle[
    notefont = \normalfont\itshape,
    bodyfont = \normalfont\itshape,
    notebraces={(}{)}
]{avgstyle}
\declaretheoremstyle[
    bodyfont = \normalfont,
    notefont = \normalfont\itshape,
    spaceabove = 1em,
    spacebelow = 1em
]{defstyle}
\declaretheoremstyle[
    bodyfont = \normalfont,
    notefont = \normalfont,
    spaceabove = 1em,
    spacebelow = 1em
]{exampstyle}

\declaretheorem[style = avgstyle, numberwithin=subsection]{theorem}
\declaretheorem[numberwithin=subsection, sibling=theorem]{lemma}
\declaretheorem{proposition, corollary, remark}[style=plain, numberwithin=subsection, sibling=theorem]
\declaretheorem{definition}[style=defstyle, numbered=unless unique, numberwithin=subsection, sibling=theorem]
\declaretheorem{outline}[style=plain, numbered=no]
\declaretheorem{example}[style=exampstyle, numberwithin=subsection, sibling=theorem]

\newenvironment{solution}
    {
    \begin{proof}[Solution]\renewcommand{\qedsymbol}{$\triangle$}
    }
    {
    \end{proof}
    }

% for some reason adding a new environment demands I have a new line after it otherwise it breaks.